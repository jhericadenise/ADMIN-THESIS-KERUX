Index: app/src/main/res/layout/activity_login.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".login.Login\">\r\n\r\n    <ImageView\r\n        android:id=\"@+id/imageView8\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:srcCompat=\"@drawable/login\" />\r\n\r\n    <EditText\r\n        android:id=\"@+id/txtboxUname\"\r\n        android:layout_width=\"196dp\"\r\n        android:layout_height=\"55dp\"\r\n        android:layout_marginStart=\"20dp\"\r\n        android:ems=\"10\"\r\n        android:inputType=\"textPersonName\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.798\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintVertical_bias=\"0.487\" />\r\n\r\n    <EditText\r\n        android:id=\"@+id/txtboxPass\"\r\n        android:layout_width=\"195dp\"\r\n        android:layout_height=\"51dp\"\r\n        android:layout_marginStart=\"20dp\"\r\n        android:layout_marginTop=\"20dp\"\r\n        android:ems=\"10\"\r\n        android:inputType=\"textPassword\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.793\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintVertical_bias=\"0.602\" />\r\n\r\n    <Button\r\n        android:id=\"@+id/bttnLogin\"\r\n        android:layout_width=\"260dp\"\r\n        android:layout_height=\"49dp\"\r\n        android:layout_marginStart=\"20dp\"\r\n        android:layout_marginTop=\"20dp\"\r\n        android:layout_marginEnd=\"20dp\"\r\n        android:layout_marginBottom=\"20dp\"\r\n        android:background=\"@android:color/transparent\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintVertical_bias=\"0.779\" />\r\n\r\n    <Button\r\n        android:id=\"@+id/bttnDashboard\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"Go to dashboard\"\r\n        app:layout_constraintBottom_toBottomOf=\"@+id/imageView8\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.775\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintVertical_bias=\"0.952\" />\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_login.xml	(revision 5179afe1e3b2307c03b90f7267791be829db083d)
+++ app/src/main/res/layout/activity_login.xml	(date 1604826251863)
@@ -72,4 +72,5 @@
         app:layout_constraintTop_toTopOf="parent"
         app:layout_constraintVertical_bias="0.952" />
 
+
 </androidx.constraintlayout.widget.ConstraintLayout>
\ No newline at end of file
Index: app/src/main/java/com/kerux/admin_thesis_kerux/login/Login.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.kerux.admin_thesis_kerux.login;\r\n\r\nimport android.app.ProgressDialog;\r\nimport android.content.Intent;\r\nimport android.os.AsyncTask;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.kerux.admin_thesis_kerux.R;\r\nimport com.kerux.admin_thesis_kerux.dbutility.ConnectionClass;\r\nimport com.kerux.admin_thesis_kerux.dbutility.DBUtility;\r\nimport com.kerux.admin_thesis_kerux.navigation.MainActivity;\r\nimport com.kerux.admin_thesis_kerux.security.SecurityWEB;\r\nimport com.kerux.admin_thesis_kerux.session.KeruxSession;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\n\r\npublic class Login extends AppCompatActivity implements DBUtility {\r\n    private static EditText username;\r\n    private static EditText password;\r\n    private static TextView attempt;\r\n    private static Button button_login;\r\n    private static Button bttnDashboard;\r\n    int attempt_counter = 5;\r\n\r\n    private KeruxSession session;\r\n    private SecurityWEB secweb;\r\n\r\n    ProgressDialog progressDialog; //\r\n    ConnectionClass connectionClass;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_login);\r\n        connectionClass = new ConnectionClass();\r\n\r\n        progressDialog=new ProgressDialog(this);//\r\n\r\n        username = (EditText)findViewById(R.id.txtboxUname);\r\n        password = (EditText)findViewById(R.id.txtboxPass);\r\n        button_login = (Button)findViewById(R.id.bttnLogin);\r\n        secweb=new SecurityWEB();\r\n        session = new KeruxSession(getApplicationContext());\r\n        bttnDashboard = findViewById(R.id.bttnDashboard);\r\n\r\n        bttnDashboard.setOnClickListener(new View.OnClickListener() {//\r\n            @Override\r\n            public void onClick(View v) {\r\n                GoToDashboard();\r\n            }\r\n        });\r\n\r\n        button_login.setOnClickListener(new View.OnClickListener() {//\r\n            @Override\r\n            public void onClick(View v) {\r\n                Dologin dologin=new Dologin();\r\n                dologin.execute();\r\n                insertAudit();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    public void GoToDashboard(){\r\n        Intent intent = new Intent(this, MainActivity.class);\r\n        startActivity(intent);\r\n    }\r\n    public void insertAudit(){\r\n        Connection con = connectionClass.CONN();\r\n        PreparedStatement ps = null;\r\n\r\n        try {\r\n            String queryAUDIT = INSERT_AUDIT_LOG;\r\n            PreparedStatement psAUDIT = con.prepareStatement(queryAUDIT);\r\n            psAUDIT.setString(1, \"login\");\r\n            psAUDIT.setString(2, \"login\");\r\n            psAUDIT.setString(3, \"Logging in to the app\");\r\n            psAUDIT.setString(4,  \"none\");\r\n            psAUDIT.setString(5, \"login\");\r\n            psAUDIT.setString(6, session.getusername());\r\n            psAUDIT.executeUpdate();\r\n        }\r\n        catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private class Dologin extends AsyncTask<String,String,String> {\r\n\r\n        String uname=username.getText().toString();\r\n        String pw=password.getText().toString();\r\n        int adminId;\r\n        int clinicid;\r\n        String z=\"\";\r\n\r\n        boolean isSuccess=false;\r\n\r\n        String firstName,lastName,email, usernam;\r\n\r\n        @Override\r\n        protected void onPreExecute() {\r\n            progressDialog.setMessage(\"Loading...\");\r\n            progressDialog.show();\r\n\r\n            super.onPreExecute();\r\n        }\r\n\r\n        @Override\r\n        protected String doInBackground(String... params) {\r\n            if(uname.trim().equals(\"\")||pw.trim().equals(\"\"))\r\n                z = \"Please enter all fields....\";\r\n            else\r\n            {\r\n                try {\r\n                    Connection con = connectionClass.CONN();\r\n                    if (con == null) {\r\n                        z = \"Please check your internet connection\";\r\n                    } else {\r\n\r\n                        String query= SELECT_ADMIN_LOGIN;\r\n\r\n                        PreparedStatement ps = con.prepareStatement(query);\r\n                        ps.setString(1, secweb.encrypt(uname));\r\n                        ps.setString(2, secweb.encrypt(pw));\r\n\r\n                        ResultSet rs=ps.executeQuery();\r\n                        /*z=secweb.encrypt(uname) + \" \" + secweb.encrypt(pw);*/\r\n\r\n                        while (rs.next()) {\r\n                            adminId=rs.getInt(1);\r\n                            firstName = rs.getString(2);\r\n                            lastName = rs.getString(3);\r\n                            email=rs.getString(4);\r\n                            clinicid=rs.getInt(5);\r\n                            usernam=rs.getString(6);\r\n\r\n                            //SET SESSION\r\n                            session.setadminid(String.valueOf(adminId));\r\n                            session.setfirstname(firstName);\r\n                            session.setlastname(lastName);\r\n                            session.setemail(email);\r\n                            session.setclinicid(String.valueOf(clinicid));\r\n                            session.setusername(usernam);\r\n                            isSuccess = true;\r\n                            /*z = String.valueOf(adminId)+\", \"+firstName+\", \"+lastName+\", \"+email+\", \"+String.valueOf(clinicid)+\", \"+usernam;*/\r\n                        }\r\n                    }\r\n                }\r\n            /*    catch (Exception ex)\r\n                {\r\n                    isSuccess = false;\r\n                    z = \"Exceptions\"+ex;\r\n                }*/\r\n                catch (Exception e) {\r\n\r\n                    Thread.dumpStack(); //always put this from sir mon\r\n                }\r\n            }\r\n            return z;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(String s) {\r\n            Toast.makeText(getBaseContext(),\"\"+z,Toast.LENGTH_LONG).show();\r\n\r\n            if(isSuccess) {\r\n                Intent intent=new Intent(Login.this, MainActivity.class);\r\n                intent.putExtra(\"adminname\", firstName+\" \"+lastName);\r\n                startActivity(intent);\r\n            }\r\n            progressDialog.hide();\r\n        }\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/kerux/admin_thesis_kerux/login/Login.java	(revision 5179afe1e3b2307c03b90f7267791be829db083d)
+++ app/src/main/java/com/kerux/admin_thesis_kerux/login/Login.java	(date 1604826251855)
@@ -4,6 +4,7 @@
 import android.content.Intent;
 import android.os.AsyncTask;
 import android.os.Bundle;
+import android.util.Log;
 import android.view.View;
 import android.widget.Button;
 import android.widget.EditText;
@@ -31,7 +32,6 @@
     private static Button button_login;
     private static Button bttnDashboard;
     int attempt_counter = 5;
-
     private KeruxSession session;
     private SecurityWEB secweb;
 
